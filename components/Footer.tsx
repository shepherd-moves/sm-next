import React, { useRef, useEffect, useState } from "react";
import Link from "next/link";
import Image from "next/image";
import { FaTiktok, FaInstagram } from "react-icons/fa";
import { motion } from "framer-motion";

function Footer() {
  const footerRef = useRef<HTMLInputElement>(null);
  const [showButton, setShowButton] = useState(false);

  // useEffect(() => {
  //   const element = document.querySelector("#my-element");

  //   if ("IntersectionObserver" in window) {
  //     const observer = new IntersectionObserver((entries) => {
  //       entries.forEach((entry) => {
  //         setShowButton(entry.isIntersecting);
  //       });
  //     });
  //     observer.observe(footerRef.current);

  //     return () => {
  //       observer.disconnect();
  //     };
  //   } else {
  //   }
  // }, []);

  function handleScroll() {
    const element = footerRef.current;
    if (element) {
      const isVisible =
        element.getBoundingClientRect().top < window.innerHeight;
      setShowButton(isVisible);
    }
  }

  useEffect(() => {
    window.addEventListener("scroll", handleScroll);
    return () => {
      window.removeEventListener("scroll", handleScroll);
    };
  }, [footerRef]);

  return (
    <>
      {showButton && (
        <Link className="back-to-top-button" href="#" scroll={true}>
          Back to top
        </Link>
      )}
      <footer
        ref={footerRef}
        className="bg-black grid justify-center  sm:flex-col sm:items-center sm:grid sm:grid-cols-2 sm:p-10 sm:bg-black text-primary-content"
      >
        <div className="mt-8 flex flex-col items-center gap-6 sm:flex-col">
          <svg
            width="150"
            height="100"
            viewBox="0 0 333 194"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M54.2639 1.93195C49.5874 4.0249 47.3298 11.2697 49.7486 16.0996C50.8774 18.3535 52.2481 19.3195 56.3602 21.01C62.1656 23.2639 63.7782 24.9544 62.4075 27.1278C61.1174 29.2207 56.844 29.3817 53.5382 27.4498L50.7968 25.8398L49.1036 29.1402C47.491 32.3602 47.4104 32.5212 48.8617 33.5676C52.49 36.2241 61.0368 37.029 65.6326 35.0971C69.7447 33.4066 71.7605 30.2672 71.7605 25.5983C71.7605 19.078 70.2285 17.3071 62.6493 14.4896C58.376 12.8797 57.9728 12.5577 58.2147 10.6257C58.4566 8.69377 58.7791 8.45228 61.6818 8.53278C63.4556 8.53278 65.552 8.85477 66.2777 9.17676C67.3258 9.65975 67.9709 9.09626 69.261 6.60083L70.8735 3.46141L68.6965 2.41494C65.3101 0.885477 57.2472 0.563486 54.2639 1.93195Z"
              fill="white"
            />
            <path
              d="M79.8234 18.5145V35.4191H88.6926V20.849L94.9817 21.0905L101.19 21.3319L101.432 28.3353L101.674 35.4191H110.463V1.60995H101.593V14.4896H88.6926V1.60995H79.8234V18.5145Z"
              fill="white"
            />
            <path
              d="M119.332 18.5145V35.4191H138.683V28.1743H128.201V21.7344H137.877V14.4896H128.201V8.85477H138.683V1.60995H119.332V18.5145Z"
              fill="white"
            />
            <path
              d="M147.552 18.434V35.4191H155.615V24.3909L161.178 23.9884C169.645 23.3444 172.547 20.527 172.547 12.8797C172.547 8.13029 171.58 5.79585 168.677 3.6224C166.823 2.25394 164.968 1.93195 157.066 1.69045L147.552 1.44896V18.434V18.434ZM162.71 9.82074C163.275 10.3842 163.678 11.7527 163.678 13.0407C163.678 15.6166 161.743 16.9046 158.115 16.9046C155.696 16.9046 155.615 16.8241 155.615 12.8797V8.85477H158.679C160.372 8.85477 162.146 9.25726 162.71 9.82074Z"
              fill="white"
            />
            <path
              d="M179.804 18.5145V35.4191H188.673V20.849L194.962 21.0905L201.171 21.3319L201.413 28.3353L201.654 35.4191H209.637V1.60995H201.574V14.4896H188.673V1.60995H179.804V18.5145Z"
              fill="white"
            />
            <path
              d="M219.312 18.5145V35.4191H238.663V28.1743H228.181V21.7344H237.857V14.4896H228.181V8.85477H238.663V1.60995H219.312V18.5145Z"
              fill="white"
            />
            <path
              d="M248.339 18.5145V35.4191H256.402V29.3817C256.402 26.0813 256.644 23.3444 257.047 23.4249C257.369 23.4249 259.304 26.1618 261.401 29.4622L265.19 35.4191H270.593C274.705 35.4191 275.753 35.1776 275.188 34.3726C274.785 33.8896 272.528 30.9917 270.27 28.0938C267.932 25.1153 266.077 22.2979 266.077 21.8954C266.077 21.4124 266.803 20.849 267.69 20.527C270.512 19.6415 272.528 16.1801 272.528 12.3162C272.528 4.18589 268.738 1.60995 256.482 1.60995H248.339V18.5145ZM261.885 9.33776C263.658 10.5452 264.223 13.2017 263.013 15.1336C262.61 15.6971 260.998 16.3411 259.385 16.6631L256.402 17.1461V12.5577C256.402 8.37178 256.563 8.04979 258.256 8.04979C259.224 8.04979 260.917 8.61327 261.885 9.33776V9.33776Z"
              fill="white"
            />
            <path
              d="M282.203 18.5145V35.4191H290.105C301.07 35.3386 306.956 32.3602 310.101 25.1958C311.472 22.0564 311.552 14.8921 310.182 11.9942C306.795 4.58838 301.07 1.69045 290.105 1.60995H282.203V18.5145ZM298.41 10.7062C301.716 12.8797 303.006 16.9851 301.877 21.4929C300.99 25.1153 296.958 28.1743 293.008 28.1743H290.266V8.85477H293.008C294.459 8.85477 296.878 9.65975 298.41 10.7062V10.7062Z"
              fill="white"
            />
            <path
              d="M315.584 34.1311C315.261 34.9361 316.068 36.3046 317.922 38.0755C323.405 43.2274 323.405 43.1469 323.163 101.91L322.921 154.154L320.663 157.937C319.212 160.432 317.116 162.525 314.616 163.974C310.907 166.148 310.423 166.228 297.362 166.47C284.38 166.792 283.816 166.872 283.816 168.402C283.816 170.012 284.138 170.012 296.958 169.69C307.037 169.368 310.746 168.965 313.246 167.838C318.486 165.504 322.195 162.123 324.05 157.776C325.743 153.751 325.824 153.59 325.582 99.1734L325.34 44.5958L323.324 40.7319C320.905 35.9826 316.39 32.1187 315.584 34.1311V34.1311Z"
              fill="white"
            />
            <path
              d="M50.7968 44.0324C45.7172 46.0448 43.137 48.9427 34.429 62.2249C24.9954 76.3925 12.901 95.9535 12.901 96.839C12.901 97.161 11.369 99.8174 9.51455 102.796C7.7407 105.855 5.07993 110.604 3.70923 113.502C1.29035 118.734 1.29035 118.815 0.96783 135.237C0.564683 154.878 1.20972 158.903 5.48308 163.652C9.43392 167.919 12.3366 169.046 20.1576 169.046C25.3179 169.046 26.608 168.804 26.608 167.838C26.608 166.872 25.3985 166.631 20.722 166.631C12.6591 166.631 8.46637 164.538 5.64434 158.983C3.70923 155.119 3.6286 154.556 3.6286 138.456C3.6286 119.7 3.87049 118.573 9.51455 108.672C11.6915 104.889 14.7555 99.3344 16.4487 96.356C19.7545 90.1577 34.6709 66.5718 41.6857 56.3485C48.8617 45.9643 47.8135 46.2863 73.8568 46.2863H95.7074L98.61 48.4598C100.545 49.9892 101.996 52.1627 103.125 55.1411C104.738 59.488 104.819 61.0174 104.819 105.694C104.819 131.051 104.496 153.107 104.093 154.798C102.561 161.398 96.8362 166.631 91.1115 166.631C89.4989 166.631 88.6926 167.033 88.6926 167.838C88.6926 169.609 93.9335 169.368 98.0456 167.355C102.238 165.343 106.109 159.869 106.834 155.039C107.076 153.268 107.237 130.004 107.076 103.44L106.834 55.1411L104.577 51.3577C103.367 49.2647 101.19 46.7693 99.7389 45.7228C97.2393 43.8714 96.7556 43.8714 74.5825 43.7104C62.1656 43.6299 51.4418 43.7909 50.7968 44.0324V44.0324Z"
              fill="white"
            />
            <path
              d="M111.269 102.554C111.269 134.11 111.591 156.085 112.075 157.293C113.365 160.754 118.364 165.584 122.799 167.516L126.992 169.448L171.983 169.69C216.732 169.931 216.893 169.931 216.893 168.241C216.893 166.631 216.652 166.631 172.386 166.631H127.798L123.766 164.699C119.251 162.606 115.865 159.305 114.575 155.924C114.01 154.395 113.688 136.444 113.688 101.749C113.688 56.1876 113.526 49.9087 112.478 49.9087C111.43 49.9087 111.269 56.268 111.269 102.554V102.554Z"
              fill="white"
            />
            <path
              d="M189.479 50.7942C181.336 54.0946 176.901 62.9494 178.998 71.8041C181.094 80.4979 190.366 86.3743 199.8 84.9253C209.717 83.4763 215.603 76.795 215.523 66.9743C215.442 56.6705 208.185 49.9087 197.139 49.9892C194.075 49.9892 190.608 50.3917 189.479 50.7942ZM202.461 59.81C204.154 60.9369 205.605 62.7884 206.25 64.7203C207.057 67.3768 207.057 68.1817 205.686 71.2407C204.476 74.0581 203.509 74.9436 200.526 76.0705C197.059 77.3585 196.736 77.3585 193.35 75.829C187.141 73.0921 185.529 66.7328 189.641 61.5809C192.785 57.556 198.107 56.8315 202.461 59.81V59.81Z"
              fill="white"
            />
            <path
              d="M292.927 51.5187C285.59 55.9461 286.96 67.5378 295.104 69.6307C299.7 70.8382 302.361 72.6091 302.361 74.5411C302.361 78.1635 298.087 79.049 293.33 76.473L290.266 74.8631L288.654 78.083C287.767 79.7734 287.041 81.3834 287.041 81.5444C287.041 81.7054 288.573 82.5909 290.427 83.3958C292.604 84.3618 295.588 84.9253 298.732 84.8448C307.279 84.8448 311.23 81.2224 311.23 73.3336C311.23 70.0332 310.827 68.9867 308.892 67.0548C307.601 65.7668 305.021 64.2373 303.086 63.6739C298.732 62.3859 297.523 61.4199 297.523 59.488C297.523 56.9925 300.748 56.0266 304.134 57.395L306.956 58.6025L308.327 55.8656C310.101 52.0017 310.02 51.6797 306.634 50.7942C301.715 49.4257 295.83 49.7477 292.927 51.5187V51.5187Z"
              fill="white"
            />
            <path
              d="M135.055 52.4846C134.571 54.8191 129.814 83.3154 129.814 84.0398C129.814 84.3618 131.749 84.5228 134.006 84.3618L138.199 84.1203L139.57 75.5071C140.86 66.4913 141.505 64.7203 142.392 67.2963C142.714 68.1012 144.327 72.2871 145.939 76.473C150.213 87.3402 151.1 87.2597 156.018 75.3461C158.115 70.1942 160.13 66.1693 160.453 66.4108C160.775 66.5718 161.501 70.1137 161.985 74.2191C163.436 85.0058 163.114 84.5228 167.79 84.5228C170.128 84.5228 171.741 84.2008 171.741 83.6373C171.741 82.3494 166.903 53.7726 166.419 52.0822C166.097 51.0357 165.049 50.7137 161.743 50.7137H157.55L154.486 59.166C152.793 63.8349 151.1 67.6183 150.858 67.6183C150.616 67.6183 148.923 63.8349 147.23 59.166L144.085 50.7137H139.812C136.022 50.7137 135.458 50.9552 135.055 52.4846V52.4846Z"
              fill="white"
            />
            <path
              d="M221.731 58.1195C223.424 62.2249 226.65 69.7917 228.746 74.8631L232.697 84.1203H240.598L247.613 67.3768L254.628 50.7137H245.275L243.904 54.0946C241.727 59.7295 236.648 70.0332 236.164 70.0332C235.841 70.0332 233.906 65.6863 231.81 60.3734L228.02 50.7137H218.587L221.731 58.1195V58.1195Z"
              fill="white"
            />
            <path
              d="M260.433 67.6183V84.5228H279.784V77.278H269.302V70.8382H278.978V63.5934H269.302V57.9585H279.784V50.7137H260.433V67.6183Z"
              fill="white"
            />
            <path
              d="M58.2147 67.6183C57.2472 68.0207 53.8607 72.3676 50.4743 77.439C41.2825 91.5261 41.1213 92.0091 41.1213 101.266C41.1213 113.583 40.3956 113.1 60.4723 113.1C76.5982 113.1 76.7595 113.1 78.2914 111.168C79.7428 109.477 79.8234 107.787 79.8234 89.9967V70.7577L77.8077 68.8257C76.0338 66.9743 75.3082 66.8133 67.9709 66.8938C63.6169 66.8938 59.2629 67.2158 58.2147 67.6183ZM76.5982 71.5627C77.082 72.5286 77.4045 79.9344 77.4045 90.1577C77.4045 100.381 77.082 107.787 76.5982 108.753C75.7919 110.202 74.7437 110.282 60.4723 110.282C42.3307 110.282 43.2176 110.846 43.7014 99.8979L43.9433 92.9751L49.5067 84.1203C52.5707 79.21 56.0377 74.0581 57.0859 72.6091L59.021 70.0332H67.4065C74.8244 70.0332 75.7919 70.1942 76.5982 71.5627V71.5627Z"
              fill="white"
            />
            <path
              d="M123.363 101.83C123.363 102.876 134.571 103.037 219.312 103.037C304.054 103.037 315.261 102.876 315.261 101.83C315.261 100.783 304.054 100.622 219.312 100.622C134.571 100.622 123.363 100.783 123.363 101.83Z"
              fill="white"
            />
            <path
              d="M199.961 113.905C199.961 114.951 206.815 115.112 256.805 115.112C306.795 115.112 313.649 114.951 313.649 113.905C313.649 112.858 306.795 112.697 256.805 112.697C206.815 112.697 199.961 112.858 199.961 113.905Z"
              fill="white"
            />
            <path
              d="M48.6198 141.515C33.784 146.828 26.608 164.216 33.4615 178.383C37.0898 185.87 43.8627 191.022 52.9738 193.114C60.7948 194.966 71.196 191.505 76.9207 185.065C84.5805 176.612 86.3544 165.262 81.5166 155.119C77.1626 145.943 69.4222 140.952 58.8597 140.388C54.3445 140.066 51.7644 140.388 48.6198 141.515V141.515ZM68.2934 145.379C72.8893 147.553 76.4369 151.175 79.1783 156.407C81.8391 161.398 81.8391 171.944 79.1783 177.095C71.5186 191.746 53.5382 195.207 41.5244 184.26C36.0416 179.188 33.6227 173.795 33.7034 166.631C33.8646 148.841 52.1675 137.571 68.2934 145.379V145.379Z"
              fill="white"
            />
            <path
              d="M242.292 141.515C237.051 143.286 232.858 145.943 230.197 149.082C220.925 160.11 221.731 176.612 231.971 186.031C235.922 189.653 240.276 191.746 246.807 193.195C257.772 195.61 270.996 188.365 275.995 177.256C278.655 171.3 278.414 162.042 275.43 155.522C272.77 149.807 267.77 144.816 262.046 142.24C257.047 139.986 247.613 139.583 242.292 141.515V141.515ZM260.836 144.816C265.594 146.909 270.189 151.256 272.528 155.924C275.269 161.237 275.43 172.588 272.77 177.498C270.593 181.603 265.916 186.031 261.24 188.446C255.918 191.263 246.484 191.102 240.195 188.204C231.165 183.938 226.085 175.324 226.73 165.182C227.053 159.144 228.585 155.441 232.616 150.692C238.986 143.367 251.564 140.71 260.836 144.816Z"
              fill="white"
            />
          </svg>
          <p>Copyright © 2022 - All right reserved</p>
          <div className="sm:mb-4">
            <div className=" flex gap-2 sm:flex sm:gap-2 sm:mt-4 ">
              <Link href={"https://www.facebook.com/shepherdmoves/"}>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  className="fill-current hover:fill-[#4267B2] "
                >
                  <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path>
                </svg>
              </Link>
              <Link href={"https://www.tiktok.com/@shepherdmoves"}>
                <FaTiktok className=" tiktok-btn w-[24px] h-[24px]" />
              </Link>
              <Link href={"https://www.instagram.com/shepherdmoves/"}>
                <FaInstagram className="insta-btn w-[24px] h-[24px]" />
              </Link>
            </div>
          </div>
          <Link href={"https://jordyn.vercel.app/"}>
            Website created with ❤️ by Jordan Nelson
          </Link>
        </div>
        <div className="flex  justify-center sm:flex sm:justify-end">
          <Link href="https://greenfleet.net/">
            <Image
              src="/gf-supporting-logo.png"
              width={300}
              height={200}
              alt="Greenfleet Logo"
            />
          </Link>
        </div>
      </footer>
    </>
  );
}

export default Footer;
